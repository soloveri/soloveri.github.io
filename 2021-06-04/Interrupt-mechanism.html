

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/panda.png">
  <link rel="icon" href="/img/panda.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#55967e">
  <meta name="description" content="">
  <meta name="author" content="rain">
  <meta name="keywords" content="">
  
  <title>ä¸­æ–­æœºåˆ¶ - ä¸€é¢—èƒ¡æ¨æ ‘</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"eripe.me","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":"UA-198559201-1","gtag":"G-19MVRDT9NM","tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"3MrDNVWQz1aBbREDmtPT7DuN-MdYXbMMI","app_key":"34YIO0Yk922Dzi79zUJidSkl","server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="ä¸€é¢—èƒ¡æ¨æ ‘" type="application/rss+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>RainsÂ·Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/home.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="ä¸­æ–­æœºåˆ¶">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-06-04 10:57" pubdate>
        2021å¹´6æœˆ4æ—¥ ä¸Šåˆ
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      1.6k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      22
       åˆ†é’Ÿ
    </span>
  

  
  
    
      <!-- LeanCloud ç»Ÿè®¡æ–‡ç« PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">ä¸­æ–­æœºåˆ¶</h1>
            
            <div class="markdown-body">
              <p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œç»ˆæ­¢ä¸€ä¸ªçº¿ç¨‹çš„ä»»åŠ¡æœ€å¥½çš„æ–¹æ³•æ˜¯é€šè¿‡ä¸­æ–­ã€‚è€ŒJavaçš„ä¸­æ–­ç±»ä¼¼äºé€šçŸ¥åä½œæœºåˆ¶ï¼Œè¢«ä¸­æ–­çš„çº¿ç¨‹å¹¶ä¸ä¼šç«‹å³åœæ­¢è‡ªå·±çš„ä»»åŠ¡ï¼Œè€Œæ˜¯ä»…ä»…æ”¶åˆ°äº†ä¸­æ–­çš„é€šçŸ¥ï¼Œå…·ä½“æ€ä¹ˆå¤„ç†æ”¶åˆ°çš„ä¸­æ–­ï¼Œè¿™éœ€è¦ç”¨æˆ·è‡ªå·±å®šä¹‰ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆè¯´Javaçš„ä¸­æ–­ç±»ä¼¼äºé€šçŸ¥æœºåˆ¶ï¼Ÿæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£ä¸­æ–­åˆ°åº•åšäº†ä»€ä¹ˆã€‚</p>
<h2 id="1-å®æ–½ä¸­æ–­"><a href="#1-å®æ–½ä¸­æ–­" class="headerlink" title="1. å®æ–½ä¸­æ–­"></a>1. å®æ–½ä¸­æ–­</h2><p>Javaä¸­çš„ä¸­æ–­æ“ä½œåªéœ€è¦è°ƒç”¨ç›®æ ‡çº¿ç¨‹çš„<code>interrupt()</code>æ–¹æ³•å³å¯å®Œæˆã€‚é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„å®ç°æºç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">    * Interrupts this thread.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; Unless the current thread is interrupting itself, which is</span><br><span class="hljs-comment">    * always permitted, the &#123;<span class="hljs-doctag">@link</span> #checkAccess() checkAccess&#125; method</span><br><span class="hljs-comment">    * of this thread is invoked, which may cause a &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * SecurityException&#125; to be thrown.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; If this thread is blocked in an invocation of the &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * Object#wait() wait()&#125;, &#123;<span class="hljs-doctag">@link</span> Object#wait(long) wait(long)&#125;, or &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * Object#wait(long, int) wait(long, int)&#125; methods of the &#123;<span class="hljs-doctag">@link</span> Object&#125;</span><br><span class="hljs-comment">    * class, or of the &#123;<span class="hljs-doctag">@link</span> #join()&#125;, &#123;<span class="hljs-doctag">@link</span> #join(long)&#125;, &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * #join(long, int)&#125;, &#123;<span class="hljs-doctag">@link</span> #sleep(long)&#125;, or &#123;<span class="hljs-doctag">@link</span> #sleep(long, int)&#125;,</span><br><span class="hljs-comment">    * methods of this class, then its interrupt status will be cleared and it</span><br><span class="hljs-comment">    * will receive an &#123;<span class="hljs-doctag">@link</span> InterruptedException&#125;.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; If this thread is blocked in an I/O operation upon an &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * java.nio.channels.InterruptibleChannel InterruptibleChannel&#125;</span><br><span class="hljs-comment">    * then the channel will be closed, the thread&#x27;s interrupt</span><br><span class="hljs-comment">    * status will be set, and the thread will receive a &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * java.nio.channels.ClosedByInterruptException&#125;.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; If this thread is blocked in a &#123;<span class="hljs-doctag">@link</span> java.nio.channels.Selector&#125;</span><br><span class="hljs-comment">    * then the thread&#x27;s interrupt status will be set and it will return</span><br><span class="hljs-comment">    * immediately from the selection operation, possibly with a non-zero</span><br><span class="hljs-comment">    * value, just as if the selector&#x27;s &#123;<span class="hljs-doctag">@link</span></span><br><span class="hljs-comment">    * java.nio.channels.Selector#wakeup wakeup&#125; method were invoked.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; If none of the previous conditions hold then this thread&#x27;s interrupt</span><br><span class="hljs-comment">    * status will be set. &lt;/p&gt;</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * &lt;p&gt; Interrupting a thread that is not alive need not have any effect.</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@throws</span>  SecurityException</span><br><span class="hljs-comment">    *          if the current thread cannot modify this thread</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@revised</span> 6.0</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@spec</span> JSR-51</span><br><span class="hljs-comment">    */</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">interrupt</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != Thread.currentThread())<br>        checkAccess();<br><br>    <span class="hljs-keyword">synchronized</span> (blockerLock) &#123;<br>        Interruptible b = blocker;<br>        <span class="hljs-keyword">if</span> (b != <span class="hljs-keyword">null</span>) &#123;<br>            interrupt0();           <span class="hljs-comment">// Just to set the interrupt flag</span><br>            b.interrupt(<span class="hljs-keyword">this</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>    interrupt0();<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>æ³¨é‡Šå¾ˆé•¿ï¼Œæˆ‘ä»¬åˆ†å¼€æ…¢æ…¢ç»†å“ã€‚é¦–å…ˆæ˜¯ç¬¬ä¸€æ®µï¼š</p>
<blockquote>
<p>Unless the current thread is interrupting itself, which is always permitted, the checkAccess method of this thread is invoked, which may cause a SecurityException to be thrown.</p>
</blockquote>
<p>å¤§æ„æ˜¯è¯´ï¼šä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½è‚¯å®šèƒ½ä¸­æ–­å®ƒè‡ªå·±ï¼Œå¦‚æœå¸Œæœ›ä¸­æ–­åˆ«çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆéœ€è¦é€šè¿‡<code>checkAccess()</code>æ–¹æ³•æ£€æŸ¥æƒé™ï¼Œå¹¶ä¸”å¯èƒ½ä¼šæŠ›å‡º<code>SecurityException</code>å¼‚å¸¸ã€‚è¿™å¾ˆå¥½ç†è§£ã€‚ä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½å¯èƒ½æ¥å—åˆ°ä¸­æ–­ã€‚</p>
<p>æ¥ç€æ˜¯ç¬¬äºŒæ®µï¼š</p>
<blockquote>
<p>If this thread is blocked in an invocation of the wait(), wait(long), or wait(long, int) methods of the Object class, or of the join(), join(long), join(long, int), sleep(long), or sleep(long, int), methods of this class, then its interrupt status will be cleared and it will receive an InterruptedException.</p>
</blockquote>
<p>ä¸Šé¢çš„æ³¨é‡Šä¸­æåˆ°äº†ä¸¤ä¸ªæ–°é²œç©æ„ï¼Œ<code>interrupt status</code>(ä¸­æ–­çŠ¶æ€)å’Œ<code>InterruptException</code>ã€‚ä¸­æ–­çŠ¶æ€å°±æ˜¯å®ç°ä¸­æ–­é€šçŸ¥æœºåˆ¶çš„å…³é”®ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è¢«ä¸­æ–­åï¼Œå®ƒçš„ä¸­æ–­æ ‡è®°å¯èƒ½ä¼šè¢«æ”¹å˜ã€‚ä¸ºä»€ä¹ˆè¯´å¯èƒ½ï¼Ÿ<br>å› ä¸ºæœ‰äº›ä¾‹å¤–æƒ…å†µåªä¼šæŠ›å‡ºä¸­æ–­å¼‚å¸¸è€Œä¸æ˜¯è®¾ç½®ä¸­æ–­çŠ¶æ€ã€‚è€Œè¿™äº›ä¾‹å¤–æƒ…å†µåœ¨ç¬¬äºŒæ®µçš„æ³¨é‡Šå·²å…¨éƒ¨å£°æ˜ï¼šå¦‚æœä¸­æ–­ç›®æ ‡æ˜¯å› ä¸ºè°ƒç”¨äº†ä»¥ä¸‹çš„æ–¹æ³•è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œé‚£ä¹ˆç›®æ ‡çº¿ç¨‹çš„ä¸­æ–­ä½ä¼šè¢«<strong>æ¸…é™¤</strong>ï¼Œå¹¶ä¸”ç›®æ ‡çº¿ç¨‹ä¼šæ”¶åˆ°<code>InterruptedException</code>å¼‚å¸¸ï¼š</p>
<ul>
<li><code>Object.wait()</code></li>
<li><code>Object.wait(long)</code></li>
<li><code>Object.wait(long,int)</code></li>
<li><code>Thread.join()</code></li>
<li><code>Thread.join(long)</code></li>
<li><code>Thread.join(long,int)</code></li>
<li><code>Thread.sleep(long)</code></li>
<li><code>Thread.sleep(long,int)</code></li>
</ul>
<p>æ¥ç€æ˜¯ç¬¬ä¸‰ã€å››å…³äºNIOçš„ä¸­æ–­æƒ…å†µï¼š</p>
<blockquote>
<p>If this thread is blocked in an I/O operation upon an InterruptibleChannel then the channel will be closed, the threadâ€™s interrupt status will be set, and the thread will receive a java.nio.channels.ClosedByInterruptException.<br>If this thread is blocked in a java.nio.channels.Selector then the threadâ€™s interrupt status will be set and it will return immediately from the selection operation, possibly with a non-zero value, just as if the selectorâ€™s wakeup method were invoked.</p>
</blockquote>
<p>å¦‚æœä¸­æ–­ç›®æ ‡æ˜¯å› ä¸ºè°ƒç”¨äº†<code>InterruotibleChannel()</code>è€Œè¢«é˜»å¡ï¼Œé‚£ä¹ˆå½“æ”¶åˆ°ä¸­æ–­æ—¶channelå°†è¢«å…³é—­ï¼Œå¹¶ä¸”<strong>è®¾ç½®ä¸­æ–­ç›®æ ‡çš„ä¸­æ–­çŠ¶æ€</strong>ï¼ŒåŒæ—¶ä¼šæ”¶åˆ°<code>java.nio.channels.ClosedByInterruptException</code>ã€‚<br>æˆ–è€…ä¸­æ–­ç›®æ ‡æ˜¯å› ä¸ºè°ƒç”¨äº†<code>channels.Selector()</code>è€Œè¢«é˜»å¡ï¼Œé‚£ä¹ˆå½“æ”¶åˆ°ä¸­æ–­æ—¶è¯¥æ–¹æ³•ä¼šç«‹å³è¿”å›ï¼Œå¹¶ä¸”<strong>è®¾ç½®ä¸­æ–­ç›®æ ‡çš„ä¸­æ–­çŠ¶æ€</strong>ã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯æœ€åä¸€æ®µï¼š</p>
<blockquote>
<p>f none of the previous conditions hold then this threadâ€™s interrupt status will be set.Interrupting a thread that is not alive need not have any effect.</p>
</blockquote>
<p>å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸Šé¢çš„æƒ…å†µé™¤å¤–ï¼Œå…¶ä»–ä»»ä½•æ—¶å€™å‘ç”Ÿä¸­æ–­åªä¼šè®¾ç½®ä¸­æ–­ç›®æ ‡çš„ä¸­æ–­æ ‡å¿—ã€‚ä¾‹å¦‚åœ¨è¿è¡Œæ—¶å‘èµ·ä¸­æ–­ï¼Œç›®æ ‡çº¿ç¨‹åªä¼šè®¾ç½®ä¸­æ–­æ ‡å¿—ã€‚</p>
<h2 id="2-æ£€æµ‹ä¸­æ–­"><a href="#2-æ£€æµ‹ä¸­æ–­" class="headerlink" title="2. æ£€æµ‹ä¸­æ–­"></a>2. æ£€æµ‹ä¸­æ–­</h2><p>è€Œæ£€æµ‹ä¸­æ–­çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š<code>interrupted</code>å’Œ<code>isInterrupted</code>ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯æ£€æµ‹å½“å‰å½“å‰çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ï¼š<code>interrupted</code>ä¼šæ¸…é™¤è°ƒç”¨çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœè¿ç»­è°ƒç”¨ä¸¤æ¬¡è¯¥æ–¹æ³•ï¼ˆåœ¨ä¸¤æ¬¡è°ƒç”¨ä¹‹é—´æ²¡æœ‰å‘ç”Ÿä¸­æ–­ï¼‰ï¼Œä¸­æ–­æ ‡å¿—ä¸€å®šæ˜¯<code>false</code>ã€‚é‚£ä¹ˆè¿™ä¸¤ä¸ªæ–¹æ³•ä¸€èˆ¬ç”¨åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™å°±è·Ÿä¸­æ–­å‘ç”Ÿçš„åœºæ™¯æœ‰å…³äº†ï¼Œä¸­æ–­å‘ç”Ÿçš„æƒ…å†µä¸€èˆ¬åªæœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>è°ƒç”¨<code>wait</code>é˜»å¡åï¼Œå‘ç”Ÿä¸­æ–­</li>
<li>çº¿ç¨‹è¿è¡Œæ—¶ï¼Œå‘èµ·ä¸­æ–­</li>
</ol>
<p>å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œå› ä¸ºä¼šæŠ›å‡ºä¸­æ–­å¼‚å¸¸ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ç”¨ä»¥ä¸‹æ¨¡å¼æ£€æµ‹ä¸­æ–­ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// do some task</span><br>            <span class="hljs-comment">// blocked by calling wait/sleep/join</span><br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException ie) &#123;  <br>            <span class="hljs-keyword">break</span>; <span class="hljs-comment">// è¿™é‡Œä½¿ç”¨break, å¯ä»¥ä½¿æˆ‘ä»¬åœ¨çº¿ç¨‹ä¸­æ–­åé€€å‡ºæ­»å¾ªç¯ï¼Œä»è€Œç»ˆæ­¢çº¿ç¨‹ã€‚</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>å¯¹äºç¬¬äºŒç§æƒ…å†µï¼Œå› ä¸ºåªä¼šè®¾ç½®ä¸­æ–­æ ‡å¿—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨<code>interrupted</code>æˆ–è€…<code>isinterrupted</code>æ£€æµ‹ä¸­æ–­æƒ…å†µï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">//isInterrupted() ç”¨äºç»ˆæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ã€‚</span><br>    <span class="hljs-keyword">while</span> (!isInterrupted()) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//    do something</span><br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException ie) &#123;  <br>            <span class="hljs-comment">// åœ¨è¿™é‡Œä¸åšä»»ä½•å¤„ç†ï¼Œä»…ä»…ä¾é isInterruptedæ£€æµ‹å¼‚å¸¸</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h2 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h2><p>Javaä¸­çš„ä¸­æ–­åªæ˜¯ä¸€ç§é€šçŸ¥æœºåˆ¶ï¼Œå¹¶ä¸ä¼šç«‹å³ä¸­æ–­ç›®æ ‡çº¿ç¨‹ï¼Œè¢«ä¸­æ–­çš„çº¿ç¨‹å¦‚ä½•å“åº”ä¸­æ–­å®Œå…¨æ˜¯ç¨‹åºå‘˜è‡ªå·±çš„äº‹ã€‚ä¸­æ–­æœºåˆ¶çš„æ ¸å¿ƒå†…å®¹å°±æ˜¯ä¸­æ–­æ ‡å¿—<code>interrupted status</code>ä¸ä¸­æ–­å¼‚å¸¸<code>InterruptException</code>ã€‚</p>
<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016083002">Threadç±»æºç è§£è¯»(3)â€”â€”çº¿ç¨‹ä¸­æ–­interrupt</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80/">å¤šçº¿ç¨‹åŸºç¡€</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/interrupt/">interrupt</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021-06-04/ThreadPoolExecutor.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ThreadPoolExecutorçº¿ç¨‹æ± è§£æ</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021-06-04/JMM.html">
                        <span class="hidden-mobile">Javaå†…å­˜æ¨¡å‹</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@waline/client@0.16.2/dist/Waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://blog-comment-blond.vercel.app","placeholder":"è¯´ç‚¹ä»€ä¹ˆ","path":"window.location.pathname","avatar":"retro","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-CN","highlight":true,"avatarCDN":"","avatarForce":false,"requiredFields":[],"emojiCDN":null,"emojiMaps":null,"anonymous":null},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        new Waline(options);
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud ç»Ÿè®¡PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="leancloud-site-pv"></span>
             æ¬¡
          </span>
      
      
        <!-- LeanCloud ç»Ÿè®¡UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="leancloud-site-uv"></span>
             äºº
          </span>
      

    
  </div>


  

  

  <div>
    <span id="timeDate">è½½å…¥å¤©æ•°...</span>
    <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
    <script>
    var now = new Date();
    function createtime(){
        var grt= new Date("06/03/2021 00:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){
            hnum = "0" + hnum;
        }
        minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if(String(mnum).length ==1 ){
                  mnum = "0" + mnum;
        }
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if(String(snum).length ==1 ){
                  snum = "0" + snum;
        }
        document.getElementById("timeDate").innerHTML = "ğŸš€ for&nbsp"+dnum+"&nbspdays";  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
        document.getElementById("times").innerHTML = hnum + "&nbsphr&nbsp" + mnum + "&nbspmin&nbsp" + snum + "&nbspsec";
    }  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
    setInterval("createtime()",250);
    </script>
  </div>
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  
    <!-- Google Analytics -->
    <script defer>
      window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) };
      ga.l = +new Date;
      ga('create', 'UA-198559201-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  
    <!-- Google gtag.js -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-19MVRDT9NM"></script>
    <script defer>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-19MVRDT9NM');
    </script>
  

  

  

  





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


</body>
</html>
