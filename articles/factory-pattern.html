

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/panda.png">
  <link rel="icon" href="/img/panda.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#55967e">
  <meta name="description" content="æ¬¢è¿ä¹˜åå…«æ¥¼çš„äºŒè·¯å…¬äº¤è½¦">
  <meta name="author" content="Rains.Lee">
  <meta name="keywords" content="Java">
  
  <title>å·¥å‚æ¨¡å¼æ‰«ç›² - ä¸€é¢—èƒ¡æ¨æ ‘</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"eripe.me","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":"UA-198559201-1","gtag":"G-19MVRDT9NM","tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"3MrDNVWQz1aBbREDmtPT7DuN-MdYXbMMI","app_key":"34YIO0Yk922Dzi79zUJidSkl","server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/rss2.xml" title="ä¸€é¢—èƒ¡æ¨æ ‘" type="application/rss+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>RainsÂ·Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/home.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="å·¥å‚æ¨¡å¼æ‰«ç›²">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-06-09 19:51" pubdate>
        2021å¹´6æœˆ9æ—¥ æ™šä¸Š
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.3k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      30
       åˆ†é’Ÿ
    </span>
  

  
  
    
      <!-- LeanCloud ç»Ÿè®¡æ–‡ç« PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> æ¬¡
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">å·¥å‚æ¨¡å¼æ‰«ç›²</h1>
            
            <div class="markdown-body">
              <p>å·¥å‚æ¨¡å¼åŸºæœ¬ä¸Šå¯åˆ†ä¸ºå››ç§ç§ï¼šé™æ€å·¥å‚æ¨¡å¼ã€ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ä»¥åŠæŠ½çº¿å·¥å‚æ¨¡å¼ã€‚æœ¬æ–‡å°†å¯¹è¿™å››ç§è®¾è®¡æ¨¡å¼è¿›è¡Œäº†ç®€å•ä»‹ç»ã€‚</p>
<h2 id="1-ä¸ºä»€ä¹ˆéœ€è¦å·¥å‚æ¨¡å¼"><a href="#1-ä¸ºä»€ä¹ˆéœ€è¦å·¥å‚æ¨¡å¼" class="headerlink" title="1. ä¸ºä»€ä¹ˆéœ€è¦å·¥å‚æ¨¡å¼"></a>1. ä¸ºä»€ä¹ˆéœ€è¦å·¥å‚æ¨¡å¼</h2><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå·¥å‚æ¨¡å¼æ˜¯ä¸ºäº†å°†å¯¹è±¡çš„ä½¿ç”¨ä¸åˆ›å»ºè¿™ä¸¤ä¸ªæ­¥éª¤åˆ†å¼€ï¼Œå®ç°ä»£ç çš„è§£è€¦ï¼Œä¸ç„¶ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„é—®é¢˜å°±æ˜¯å¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†å¯¹è±¡çš„åˆ›å»ºæ–¹æ³•ï¼Œé‚£ä¹ˆéœ€è¦ä¿®æ”¹çš„åœ°æ–¹å°†æ— æ³•æƒ³è±¡ã€‚å·¥å‚æ¨¡å¼é¿å…äº†è¿™ä¸€çª˜å¢ƒã€‚</p>
<h2 id="2-é™æ€å·¥å‚æ¨¡å¼"><a href="#2-é™æ€å·¥å‚æ¨¡å¼" class="headerlink" title="2. é™æ€å·¥å‚æ¨¡å¼"></a>2. é™æ€å·¥å‚æ¨¡å¼</h2><p>é™æ€å·¥å‚æ¨¡å¼æ¯”è¾ƒç®€å•ï¼ŒåŸºæœ¬å®šä¹‰ä¸ºï¼šä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•æ ¹æ®ä¸åŒçš„å‚æ•°è¿”å›ä¸åŒçš„å®ä¾‹ï¼Œä¸è¿‡ä¸€èˆ¬æ˜¯ä¸€ä¸ªå•ç‹¬çš„ç±»æ¥å®šä¹‰è¿™ä¸ªå”¯ä¸€çš„æ–¹æ³•ï¼Œdemoä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserFactory</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> function <span class="hljs-title">create</span><span class="hljs-params">(String type)</span> </span>&#123;<br>        <span class="hljs-keyword">switch</span> (type) &#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;user&#x27;</span>: <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> User();<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;customer&#x27;</span>: <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Customer();<br>            <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;admin&#x27;</span>: <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Admin();<br>            <span class="hljs-keyword">default</span>:<br>                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&#x27;Wrong user type passed.&#x27;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>ä½†æ˜¯è¯¥æ¨¡å¼çš„ç¼ºç‚¹å°±æ˜¯å¦‚æœäº§å“ç±»éå¸¸å¤šï¼Œé‚£ä¹ˆæ¡ä»¶åˆ¤æ–­æ˜¯ä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹ï¼Œå¹¶ä¸”å¯èƒ½éœ€è¦é¢‘ç¹æ›´æ”¹ç®€å•å·¥å‚çš„ä»£ç ï¼Œè¿åäº†å¼€é—­åŸåˆ™ã€‚æˆ‘è®¤ä¸ºè¯¥æ¨¡å¼é€‚ç”¨äºäº§å“ç±»è¾ƒå°‘çš„æƒ…å†µã€‚</p>
<h2 id="3-å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#3-å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="3. å·¥å‚æ–¹æ³•æ¨¡å¼"></a>3. å·¥å‚æ–¹æ³•æ¨¡å¼</h2><p>æ ¹æ®æˆ‘çš„æ¢ç´¢ï¼Œå·¥å‚æ–¹æ³•æœ‰ä¸¤ç§ç‰ˆæœ¬ï¼š</p>
<ol>
<li>ç»å…¸ç‰ˆæœ¬ï¼Œç”±GOFå®šä¹‰</li>
<li>æ— åæ°ç‰ˆæœ¬</li>
</ol>
<p>é¦–å…ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆfactory methodï¼‰çš„<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Factory_method_pattern">ç»å…¸å®šä¹‰</a>å¦‚ä¸‹ï¼ˆGOFç‰ˆæœ¬ï¼‰ï¼š</p>
<div class="note note-info">
            <p>â€œDefine an interface for creating an object, but let subclasses decide which class to <strong>instantiate</strong>. The Factory method lets a class defer instantiation it uses to subclasses.â€</p>
          </div>

<p>å¤§æ„æ˜¯æŒ‡é€šè¿‡â€œæ¥å£â€åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯å…·ä½“çš„åˆ›å»ºè¿‡ç¨‹äº¤ç”±ç»§æ‰¿çš„å­ç±»æ¥å®ç°ã€‚å®šä¹‰å¾ˆæŠ½è±¡ï¼Œæˆ‘ä»¬é€šè¿‡<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/50786084">jaco0646</a>æä¾›çš„demoæ¥äº†è§£ä¸€ä¸‹ï¼š</p>
<figure class="highlight java"><figcaption><span>"factory method"</span></figcaption><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Creator</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">anOperation</span><span class="hljs-params">()</span> </span>&#123;<br>        Product p = factoryMethod();<br>        p.whatever();<br>    &#125;<br>    <span class="hljs-comment">//factory method</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> Product <span class="hljs-title">factoryMethod</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Creator</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Product <span class="hljs-title">factoryMethod</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProduct();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ä¸­ï¼ŒæŠ½è±¡ç±»â€œCreatorâ€è°ƒç”¨äº†è‡ªå·±çš„å®šä¹‰çš„å·¥å‚æ–¹æ³•â€œfactoryMethodâ€ï¼Œä½†æ˜¯æ–¹æ³•å…·ä½“çš„å®ç°äº¤ç»™äº†å­ç±»â€œConcreteCreatorâ€ï¼Œå­ç±»å®ç°çš„å·¥å‚æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªå…·ä½“äº§å“ï¼Œå¾ˆæ ‡å‡†åœ°å®ç°äº†ä¸Šè¿°å®šä¹‰ï¼Œä½†æ˜¯ç¾ä¸­ä¸è¶³æ˜¯æ²¡æœ‰ä½¿ç”¨â€œinterfaceâ€ã€‚<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/38668246">jaco0646</a>ç»™å‡ºäº†å›ç­”ï¼š</p>
<div class="note note-info">
            <p>First, we must note that neither Java nor C# existed when the GoF wrote their book. The GoF use of the term interface is unrelated to the interface types introduced by particular languages. Therefore, the concrete creator can be created from any API. The important point in the pattern is that <strong>the API consumes its own Factory Method</strong>, so an interface with only one method cannot be a Factory Method any more than it can be an Abstract Factory.</p>
          </div>

<p>å¤§æ„æ˜¯æŒ‡å› ä¸ºæ—¶ä»£åŸå› ï¼ŒGOFä¸­çš„â€œinterfaceâ€å’Œå…·ä½“è¯­è¨€ä¸­â€œinterfaceâ€å®Œå…¨ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»»ä½•å½¢å¼çš„APIä½¿ç”¨å·¥å‚æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„è¯¥APIå¿…é¡»æ¶ˆè´¹è‡ªå·±çš„å·¥å‚æ–¹æ³•ã€‚å¯èƒ½ç†Ÿæ‚‰è®¾è®¡æ¨¡å¼çš„åŒå­¦å‘ç°ï¼Œè¿™å°±æ˜¯æ¨¡æ¿æ–¹æ³•å•Šï¼Œä½ åˆ°åº•æ‡‚ä¸æ‡‚å•Šï¼Ÿå¾ˆå·§ï¼Œæˆ‘åœ¨<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/50786084">jaco0646</a>çš„å›ç­”ä¸­åˆå‘ç°äº†ç­”æ¡ˆï¼š</p>
<div class="note note-info">
            <p>The Factory Method Pattern is nothing more than a specialization of the Template Method Pattern. The two patterns share an identical structure. They only differ in purpose. Factory Method is creational (it builds something) whereas Template Method is behavioral (it computes something).</p>
          </div>

<p>å¤§æ„æ˜¯è¯´å·¥å‚æ–¹æ³•ä¸æ¨¡æ¿æ–¹æ³•çš„åŒºåˆ«å¾ˆå¾®å¦™ï¼Œå‰è€…æ˜¯åˆ›å»ºå‹æ–¹æ³•ï¼ˆæŒ‡åˆ›å»ºå…·ä½“çš„å®ä¾‹ï¼‰ï¼Œè€Œåè€…æ˜¯è¡Œä¸ºå‹æ–¹æ³•ï¼ˆæŒ‡å®Œæˆé€»è¾‘åŠŸèƒ½ï¼‰ã€‚</p>
<p>ä¸Šè¿°æ˜¯æˆ‘äº†è§£çš„ç»å…¸å·¥å‚æ–¹æ³•ï¼Œè€Œæ— åæ°ç‰ˆæœ¬æ˜¯ç”±æŠ½è±¡å·¥å‚ã€å…·ä½“å·¥å‚ã€æŠ½è±¡äº§å“ã€å…·ä½“äº§å“å››ç±»å…ƒç´ ç»„æˆç»„æˆï¼Œdemoå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//æŠ½è±¡äº§å“</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Product</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shape</span><span class="hljs-params">()</span></span>;<br>&#125;<br><span class="hljs-comment">//å…·ä½“äº§å“</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteProduct</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Product</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shape</span><span class="hljs-params">()</span></span>&#123;<br>        ...<br>    &#125;<br>&#125;<br><span class="hljs-comment">//æŠ½è±¡å·¥å‚</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Creator</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">factoryMethod</span><span class="hljs-params">()</span></span>;<br>&#125;<br><span class="hljs-comment">//å…·ä½“å·¥å‚</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteCreator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Creator</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Product <span class="hljs-title">factoryMethod</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ConcreteProduct();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>å…¶å®è¿™ç§ç‰ˆæœ¬åº”è¯¥æ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯å½“æˆ‘å­¦ä¹ æŠ½è±¡å·¥å‚æ¨¡å¼æ—¶ï¼Œæˆ‘é™·å…¥äº†ç–‘æƒ‘ã€‚</p>
<h2 id="4-æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#4-æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="4. æŠ½è±¡å·¥å‚æ¨¡å¼"></a>4. æŠ½è±¡å·¥å‚æ¨¡å¼</h2><p>æŠ½è±¡å·¥å‚æ¨¡å¼çš„<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Abstract_factory_pattern#Definition">GOFå®šä¹‰</a>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="note note-info">
            <p>The essence of the Abstract Factory Pattern is to â€œProvide an interface for creating families of related or dependent objects without specifying their concrete classes.â€ï¼ˆé€šè¿‡â€œæ¥å£â€åˆ›å»ºç›¸å…³çš„ç³»åˆ—äº§å“ï¼Œä½†æ˜¯å¹¶ä¸å£°æ˜å¦‚ä½•åˆ›å»ºï¼‰</p>
          </div>

<p>è¿™é‡Œè¿˜æ˜¯æ‹¿æ¥ä¸»ä¹‰ï¼Œ<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/50786084">jaco0646</a>æä¾›çš„demoå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AbstractFactory_MessageQueue factory;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Client</span><span class="hljs-params">(AbstractFactory_MessageQueue factory)</span> </span>&#123;<br>        <span class="hljs-comment">// The factory creates message queues either for Azure or MSMQ.</span><br>        <span class="hljs-comment">// The client does not know which technology is used.</span><br>        <br>        <span class="hljs-comment">// inject AbstractFactory to Client </span><br>        <span class="hljs-keyword">this</span>.factory = factory;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendMessage</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">//The client doesn&#x27;t know whether the OutboundQueue is Azure or MSMQ.</span><br>        OutboundQueue out = factory.createProductA();<br>        out.sendMessage(<span class="hljs-string">&quot;Hello Abstract Factory!&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">receiveMessage</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">//The client doesn&#x27;t know whether the ReplyQueue is Azure or MSMQ.</span><br>        ReplyQueue in = factory.createProductB();<br>        <span class="hljs-keyword">return</span> in.receiveMessage();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AbstractFactory_MessageQueue</span> </span>&#123;<br>    <span class="hljs-function">OutboundQueue <span class="hljs-title">createProductA</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function">ReplyQueue <span class="hljs-title">createProductB</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteFactory_Azure</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AbstractFactory_MessageQueue</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> OutboundQueue <span class="hljs-title">createProductA</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AzureMessageQueue();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ReplyQueue <span class="hljs-title">createProductB</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> AzureResponseMessageQueue();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConcreteFactory_Msmq</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AbstractFactory_MessageQueue</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> OutboundQueue <span class="hljs-title">createProductA</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MsmqMessageQueue();<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ReplyQueue <span class="hljs-title">createProductB</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MsmqResponseMessageQueue();<br>    &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>å…¶ä¸­â€œAbstractFactory_MessageQueueâ€ä½œä¸ºæŠ½è±¡å·¥å‚ï¼Œå®šä¹‰äº†ä¸¤ä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³•â€œcreateProductA()â€ã€â€œcreateProductB()â€ã€‚å…·ä½“çš„å®ç°äº¤ç»™æŠ½è±¡å·¥å‚çš„â€œç»§æ‰¿è€…â€å…·ä½“å·¥å‚ã€‚è¯¥æ¨¡å¼å•ç‹¬å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ä¸æ— åæ°ç‰ˆå·¥å‚æ–¹æ³•æ¨¡å¼æ”¾åœ¨ä¸€å—ï¼Œå°±éå¸¸è¿·æƒ‘äº†ï¼Ÿä¸å…æå‡ºå‡ ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>å·¥å‚æ–¹æ³•æ¨¡å¼åˆ°åº•å“ªä¸€ç‰ˆæ‰æ˜¯å¯¹çš„ï¼Ÿ</li>
<li>æ— åæ°ç‰ˆå·¥å‚æ–¹æ³•æ¨¡å¼ç®—æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼å—ï¼Ÿ</li>
<li>ç»å…¸å·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ol>
<p>å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æš‚æ—¶è¿˜æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆï¼Œæˆ‘ç›®å‰æ¯”è¾ƒè®¤åŒç¬¬ä¸€ç§ç‰ˆæœ¬ï¼Œå³GOFç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºæ— åæ°ç‰ˆæœ¬å®è´¨ä¸æŠ½è±¡å·¥å‚æ²¡æœ‰åŒºåˆ«ã€‚</p>
<p>å¯¹äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘è²Œä¼¼æ‰¾åˆ°äº†ä¸€ä¸ªç­”æ¡ˆï¼š</p>
<div class="note note-info">
            <p>an interface with only one method cannot be a Factory Method any more than it can be an Abstract Factory, what do we call a creational interface with only one method?</p><p><strong>Answer:</strong><br>If the method is static, it is commonly called a Static Factory. If the method is non-static, it is commonly called a Simple Factory. Neither of these is a GoF pattern, but in practice they are far more commonly used!</p>
          </div>

<p>å¯¹äºç¬¬ä¸‰ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šæœ‰äº†æ¯”è¾ƒæ˜ç¡®çš„å›ç­”ï¼Œæˆ‘è¿™é‡Œä»…ä½œç®€å•æ‘˜è¦ï¼Œå› ä¸ºå†…å®¹è¾ƒé•¿ï¼Œå•ç‹¬æˆä¸ºä¸€èŠ‚ã€‚</p>
<h2 id="5-ä¼ ç»Ÿå·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«"><a href="#5-ä¼ ç»Ÿå·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«" class="headerlink" title="5. ä¼ ç»Ÿå·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«"></a>5. ä¼ ç»Ÿå·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«</h2><p>é’ˆå¯¹<a target="_blank" rel="noopener" href="https://stackoverflow.com/a/50786084">jaco0646</a> demoä¸­çš„ä»£ç ï¼Œä»–æå‡ºä»¥ä¸‹å†…å®¹ï¼š</p>
<p>å¯¹äºæŠ½è±¡å·¥å‚ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼š</p>
<p>ï¼ˆ1ï¼‰æŠ½è±¡å·¥å‚æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯å®ƒä¼šè¢«æ³¨å…¥â€œClientâ€ä»£ç ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¯´æŠ½è±¡å·¥å‚æ˜¯ç”±ç»„åˆå®ç°ï¼Œä¾‹å¦‚demoä¸­â€œAbstractFactoryâ€è¢«æ³¨å…¥äº†â€œClientâ€çš„ä»£ç ï¼Œè¿™ä¹Ÿå°±æ˜¯æŠ½è±¡æ–¹æ³•è¢«ç§°ç”±ç»„åˆå®ç°çš„åŸå› ã€‚</p>
<div class="note note-info">
            <p>The most important point to grasp here is that the abstract factory is injected into the client. This is why we say that Abstract Factory is implemented by Composition. Often, a dependency injection framework would perform that task; but a framework is not required for DI.</p>
          </div>

<p>ï¼ˆ2ï¼‰æŠ½è±¡å·¥å‚çš„å®ç°ç±»å¹¶ä¸æ˜¯æ‰€è°“çš„å·¥å‚æ–¹æ³•ã€‚</p>
<p>ï¼ˆ3ï¼‰æŠ½è±¡å·¥å‚ä¸­çš„å®¶æ—äº§å“æ˜¯æŒ‡å„ä¸ªäº§å“é—´åœ¨é€»è¾‘ä¸Šå…·å¤‡å…³è”ï¼Œè€Œä¸æ˜¯æŒ‡ä»£ç å®ç°ä¸­å…·å¤‡ç»§æ‰¿å…³ç³»ã€‚</p>
<p>å¯¹äºå·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼š</p>
<p>ï¼ˆ1ï¼‰åœ¨demoä¸­ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼ä¸­çš„â€œClientâ€æ˜¯æŒ‡â€œConcreteCreatorâ€ï¼Œâ€œClientâ€çš„çˆ¶ç±»å®šä¹‰äº†å·¥å‚æ–¹æ³•ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç§°å·¥å‚æ–¹æ³•æ˜¯ç”±ç»§æ‰¿å®ç°çš„åŸå› ã€‚</p>
<div class="note note-info">
            <p>The most important point to grasp here is that the ConcreteCreator is the client. In other words, the client is a subclass whose parent defines the factoryMethod(). This is why we say that Factory Method is implemented by Inheritance.)</p>
          </div>

<p>ï¼ˆ2ï¼‰å·¥å‚æ–¹æ³•æ¨¡å¼ä¸æ¨¡æ¿æ–¹æ³•æ¨¡å¼å¹¶æ— å¤ªå¤§åŒºåˆ«ï¼Œå‰è€…æ˜¯åˆ›å»ºå‹æ–¹æ³•ï¼Œåè€…æ˜¯è¡Œä¸ºå‹æ–¹æ³•ã€‚</p>
<p>ï¼ˆ3ï¼‰æˆ‘è®¤ä¸ºè¿™ç‚¹æ˜¯ä¼ ç»Ÿå·¥å‚æ–¹æ³•æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æœ€å¤§çš„åŒºåˆ«ã€‚åœ¨demoä»£ç ä¸­çˆ¶ç±»â€œCreatorâ€æ¶ˆè´¹äº†è‡ªå·±çš„å·¥å‚æ–¹æ³•â€œfactoryMethod()â€ï¼Œå¦‚æœå°†ä»£ç ä¸­çš„â€œanOperation()â€åˆ é™¤ï¼Œé‚£ä¹ˆå°±ä¸å†æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„å·¥å‚æ–¹æ³•ã€‚</p>
<div class="note note-info">
            <p>And finally, the third point to note is that the Creator (parent) class invokes its own factoryMethod(). If we remove anOperation() from the parent class, leaving only a single method behind, it is no longer the Factory Method pattern. In other words, Factory Method cannot be implemented with less than two methods in the parent class; and one must invoke the other.</p>
          </div>

<p>å¦‚æœä»”ç»†é˜…è¯»äº†ä¸Šé¢çš„å†…å®¹ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»çŸ¥é“äº†GOFç‰ˆæœ¬çš„å·¥å‚æ–¹æ³•ä¸æŠ½è±¡å·¥å‚çš„åŒºåˆ«ã€‚æ ¸å¿ƒå°±æ˜¯<strong>å·¥å‚æ–¹æ³•æ¨¡å¼ä¸»è¦é€šè¿‡ç»§æ‰¿æ¥å®ç°ï¼Œä¼šæ¶ˆè´¹è‡ªå·±å®šä¹‰çš„å·¥å‚æ–¹æ³•ã€‚è€ŒæŠ½è±¡å·¥å‚æ¨¡å¼ä¸»è¦é€šè¿‡ç»„åˆä¸ä»£ç æ³¨å…¥æ¥å®ç°</strong>ã€‚</p>
<h2 id="6-å„ç§å·¥å‚æ¨¡å¼çš„é€‚ç”¨åœºæ™¯"><a href="#6-å„ç§å·¥å‚æ¨¡å¼çš„é€‚ç”¨åœºæ™¯" class="headerlink" title="6. å„ç§å·¥å‚æ¨¡å¼çš„é€‚ç”¨åœºæ™¯"></a>6. å„ç§å·¥å‚æ¨¡å¼çš„é€‚ç”¨åœºæ™¯</h2><ol>
<li>å¯¹äºç®€å•å·¥å‚ï¼Œä¸€èˆ¬é€‚ç”¨äºäº§å“ç±»è¾ƒå°‘ï¼Œå„ä¸ªäº§å“æ„é€ ç®€å•æ—¶é€‚ç”¨ã€‚</li>
<li>å¯¹äºä¼ ç»Ÿå·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œå¦‚æœä¸çŸ¥é“å­ç±»æ˜¯å¦‚ä½•åˆ›å»ºå¯¹è±¡æˆ–è€…éœ€è¦å­ç±»å®¢åˆ¶åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œé‚£ä¹ˆä½¿ç”¨å®ƒ</li>
<li>å¯¹äºæŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œä¸€èˆ¬ç”¨æ¥åˆ›å»ºä¸€ç³»åˆ—é…å¥—çš„äº§å“å…±åŒä½¿ç”¨</li>
</ol>
<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://refactoring.guru/design-patterns/factory-comparison">Factory Comparison</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhan520g/p/10461094.html">&lt;å·¥å‚æ–¹æ³•&gt;æ¯”&lt;ç®€å•å·¥å‚&gt;å¤šäº†å•¥ï¼ˆåŒºåˆ«ï¼‰</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/38668246/12893742">Design Patterns: Abstract Factory vs Factory Method</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/5739611/what-are-the-differences-between-abstract-factory-and-factory-design-patterns/50786084#50786084">What are the differences between Abstract Factory and Factory design patterns?</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/30465141/12893742">Factory Pattern. When to use factory methods?</a></p>
</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/design-patterns/">design patterns</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/factory/">factory</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/articles/hello-world.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Hello World</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/articles/log-system-for-Java-abstract.html">
                        <span class="hidden-mobile">Javaæ—¥å¿—åº“æ‰«ç›²</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="waline"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#waline', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/@waline/client@0.16.2/dist/Waline.min.js', function() {
        var options = Object.assign(
          {"serverURL":"https://blog-comment-blond.vercel.app","placeholder":"è¯´ç‚¹ä»€ä¹ˆ","path":"window.location.pathname","avatar":"retro","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-CN","highlight":true,"avatarCDN":"","avatarForce":false,"requiredFields":[],"emojiCDN":null,"emojiMaps":null,"anonymous":null},
          {
            el: '#waline',
            path: window.location.pathname
          }
        )
        new Waline(options);
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud ç»Ÿè®¡PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="leancloud-site-pv"></span>
             æ¬¡
          </span>
      
      
        <!-- LeanCloud ç»Ÿè®¡UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="leancloud-site-uv"></span>
             äºº
          </span>
      

    
  </div>


  

  

  <div>
    <span id="timeDate">è½½å…¥å¤©æ•°...</span>
    <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>
    <script>
    var now = new Date();
    function createtime(){
        var grt= new Date("06/03/2021 00:00:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){
            hnum = "0" + hnum;
        }
        minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if(String(mnum).length ==1 ){
                  mnum = "0" + mnum;
        }
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if(String(snum).length ==1 ){
                  snum = "0" + snum;
        }
        document.getElementById("timeDate").innerHTML = "ğŸš€ for&nbsp"+dnum+"&nbspdays";  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
        document.getElementById("times").innerHTML = hnum + "&nbsphr&nbsp" + mnum + "&nbspmin&nbsp" + snum + "&nbspsec";
    }  //æ­¤æ¬¡è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹
    setInterval("createtime()",250);
    </script>
  </div>
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  
    <!-- Google Analytics -->
    <script defer>
      window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) };
      ga.l = +new Date;
      ga('create', 'UA-198559201-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  
    <!-- Google gtag.js -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-19MVRDT9NM"></script>
    <script defer>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-19MVRDT9NM');
    </script>
  

  

  

  





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>


</body>
</html>
